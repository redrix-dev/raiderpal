@import "tailwindcss";
@source "./**/*.{ts,tsx,mdx}";
@source "../components/**/*.{ts,tsx}";
@source "../stories/**/*.{ts,tsx,mdx}";

:root {
  --color-bg: #050910;
  --color-off-white: #e3ddd4;
  --color-yellow: #f1aa1c;
  --color-deep-blue: #130918;
  --color-muted: #8ea0b8;
  --wallpaper-url: none; /* optional hero wallpaper; set to url(...) if needed */
  --texture-url: url("/textures/ARC_Raiders_Background_Texture.png");
  --wallpaper-overlay: rgba(5, 9, 16, 0);
  --font-sans: var(--font-barlow, "Barlow", system-ui, -apple-system, "Segoe UI", sans-serif);
  --font-condensed: var(
    --font-barlow-condensed,
    "Barlow Condensed",
    "Barlow",
    system-ui,
    -apple-system,
    "Segoe UI",
    sans-serif
  );
  --rp-offwhite: #ece2d0;
  --rp-yellow: #f1aa1c;
  --rp-deepblue: #130918;
}

/* Tailwind v4 theme helpers can confuse CSS validators. If your editor flags
   unknown at-rules, add at-rule-no-unknown ignores in your linter config. */

body {
  position: relative;
  background: var(--color-bg);
  color: var(--color-off-white);
  font-family: var(--font-sans);
  min-height: 100vh;
}

/* Optional wallpaper treatment */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background-image: var(--texture-url);
  background-size: 900px auto;
  background-position: center;
  background-repeat: repeat;
  background-blend-mode: screen;
  opacity: 0.95;
  pointer-events: none;
  z-index: 0;
}

/* Overlay to maintain contrast */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: linear-gradient(180deg, var(--wallpaper-overlay), var(--wallpaper-overlay));
  pointer-events: none;
  z-index: 1;
}

/* Prevent mobile Safari zoom on form controls */
input,
select,
textarea {
  font-size: 16px;
  position: relative;
  z-index: 2;
}

/* Slider styling: cyan thumb/active, warm inactive track */
input[type="range"] {
  accent-color: #4fc1e9;
}
input[type="range"]::-webkit-slider-runnable-track {
  background: linear-gradient(
      to right,
      rgba(79, 193, 233, 0.6) 0%,
      rgba(79, 193, 233, 0.6) var(--tw-range-progress, 50%),
      rgba(227, 221, 212, 0.2) var(--tw-range-progress, 50%),
      rgba(227, 221, 212, 0.2) 100%
    );
  height: 4px;
  border-radius: 9999px;
}
input[type="range"]::-webkit-slider-thumb {
  background: #4fc1e9;
  border: 1px solid #4fc1e9;
}
input[type="range"]::-moz-range-track {
  background: rgba(227, 221, 212, 0.2);
  height: 4px;
  border-radius: 9999px;
}
input[type="range"]::-moz-range-progress {
  background: rgba(79, 193, 233, 0.6);
  height: 4px;
  border-radius: 9999px;
}
input[type="range"]::-moz-range-thumb {
  background: #4fc1e9;
  border: 1px solid #4fc1e9;
}

@layer components {
  /* Main inner panels (tool bodies, info sections) */
  .rp-panel {
    @apply rounded-xl border p-4 sm:p-5;
    border-color: var(--rp-deepblue);
    background-image: linear-gradient(rgba(5, 9, 16, 0.35), rgba(5, 9, 16, 0.35)),
      url("/backgrounds/ARC_Raiders_Module_Background.png");
    background-repeat: repeat-x;
    background-size: auto 140%;
    background-position: center;
    background-color: rgba(5, 9, 16, 0.6);
  }

  /* Secondary cards inside panels (subsections, result blocks) */
  .rp-card {
    @apply rounded-lg border p-4;
    border-color: rgba(255, 255, 255, 0.06);
    background-color: rgba(7, 4, 15, 0.92);
  }

  /* Generic pill/tag (non-rarity) */
  .rp-pill {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-[11px] font-medium;
    background-color: rgba(19, 9, 24, 0.9);
    color: var(--rp-offwhite);
    border: 1px solid rgba(236, 226, 208, 0.16);
  }

  /* Accent pill for highlighted states */
  .rp-pill-accent {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-[11px] font-semibold;
    background-color: var(--rp-yellow);
    color: #1a0704;
  }
}

/* Panel texture helper: deep blue module texture with subtle tint */
.bg-panel-texture {
  background-image: linear-gradient(rgba(5, 9, 16, 0.35), rgba(5, 9, 16, 0.35)),
    url("/backgrounds/ARC_Raiders_Module_Background.png");
  background-repeat: repeat-x;
  background-size: auto 140%;
  background-position: center;
  background-color: rgba(5, 9, 16, 0.6);
}

.font-condensed {
  font-family: var(--font-condensed);
}

.text-warm {
  color: var(--color-off-white);
}

.text-warm-muted {
  color: #e3ddd4;
}
